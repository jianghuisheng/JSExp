<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<p>
    <input type="checkbox">
    <span>全选</span>
    <i>反选</i>
</p>
<p>
    <input type="checkbox">选项一
</p>
<p>
    <input type="checkbox">选项二
</p>
<p>
    <input type="checkbox">选项三
</p>
<p>
    <input type="checkbox">选项四
</p>
<p>
    <input type="checkbox">选项五
</p>
<p>
    <input type="checkbox">选项六
</p>
<p>
    <input type="checkbox">选项七
</p>
<p>
    <input type="checkbox">选项八
</p>
<p>
    <input type="checkbox">选项九
</p>
<p>
    <input type="checkbox">选项十
</p>
<p>1.切换全选/全部选文字;2.根据选中个数更新全选框状态</p>
</body>
<script>
    var all=document.querySelector('input');
    var inputs=document.querySelectorAll('input');
    var re=document.querySelector('i');
    var len=inputs.length;
    var span=document.querySelector('span');
    console.log(span)
    //全选点击
    all.onclick=function () {
        for(var i=1;i<len;i++){
            inputs[i].checked=this.checked;
        }
            show();
    }
    function show() {
        var isChecked=true;
        span.innerHTML='全不选';
        for(var j=1;j<len;j++){
            if(!inputs[j].checked){
                isChecked=false;
                span.innerHTML='全选';
            }
        }
        all.checked=isChecked;
    }
    //每个选项点击
    for(var i=1;i<len;i++){
        inputs[i].onclick=function () {
            show();
        }
    }
    //反选点击
    re.onclick=function () {
        for(var i=1;i<len;i++){
            inputs[i].checked=!inputs[i].checked;
        }
        show();
    }

</script>
</html>