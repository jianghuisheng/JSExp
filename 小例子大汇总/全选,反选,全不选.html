<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        span {
            cursor: pointer;
            /* border:1px solid red; */
            display: inline-block;
            margin-left: 10px;
            background: skyblue;
            border-radius: 10px;
            width: 60px;
            text-align: center;
            box-shadow: 0 0 5px black;
        }
    </style>
</head>
<body>
<div>
    <form action="">
        <input type="checkbox" value="全选">全选
        <input type="checkbox" value="选项一">选项一
        <input type="checkbox" value="选项2">选项2
        <input type="checkbox" value="选项3">选项3
        <span>反选</span>
    </form>
</div>
</body>
<script>
    // 全选
    var all = document.querySelector('input');
    //    每个
    var inputs = document.querySelectorAll('input');
    //    反选
    var span = document.querySelector('span');

    var len=inputs.length;
    console.log(inputs.length);

    all.onclick=function () {
        for (var i=1;i<len;i++){
            inputs[i].checked=this.checked;
        }
    }

    for (var i=1;i<len;i++){
        inputs[i].onclick=function () {
            for (var i=1;i<len;i++){
                var isChecked=true;
                if(!inputs[i].checked){
                    isChecked=false;
                    break;
                }
            }
            all.checked=isChecked;
        }
    }

    span.onclick=function () {
        for (var i=0;i<len;i++){
            inputs[i].checked=!inputs[i].checked;
        }
        for (var i=1;i<len;i++){
            var isChecked=true;
            if(!inputs[i].checked){
                isChecked=false;
                break;
            }
        }
        all.checked=isChecked;

    }
</script>
</html>